document.addEventListener('DOMContentLoaded',function(){const navbar=document.querySelector('.navbar');const megaMenu=document.querySelector('.mega-menu');const navbarItem=document.querySelector('.nav-item.colegio');if(!navbar||!megaMenu||!navbarItem)return;let isMouseOnNavbarItem=false;let isMouseOnMegaMenu=false;const navbarHeight=navbar.offsetHeight;megaMenu.style.top=`${navbarHeight}px`;const toggleMegaMenu=(show)=>{megaMenu.style.display=show?'flex':'none';};navbarItem.addEventListener('mouseenter',function(){isMouseOnNavbarItem=true;toggleMegaMenu(true);});navbarItem.addEventListener('mouseleave',function(){isMouseOnNavbarItem=false;setTimeout(function(){if(!isMouseOnMegaMenu){toggleMegaMenu(false);}},100);});megaMenu.addEventListener('mouseenter',function(){isMouseOnMegaMenu=true;});megaMenu.addEventListener('mouseleave',function(){isMouseOnMegaMenu=false;setTimeout(function(){if(!isMouseOnNavbarItem){toggleMegaMenu(false);}},100);});const hamburgerBtn=document.getElementById("hamburger-btn");const dropdown=document.getElementById("hamburger-dropdown");if(hamburgerBtn&&dropdown){hamburgerBtn.addEventListener("click",function(event){event.stopPropagation();dropdown.classList.toggle("active");if(dropdown.classList.contains("active")){dropdown.style.display='block';}else{dropdown.style.display='none';}});}
const submenuParents=document.querySelectorAll('.submenu-parent');submenuParents.forEach(parent=>{parent.addEventListener('click',function(event){const submenu=parent.querySelector('.submenu');if(submenu.style.display==='flex'){submenu.style.display='none';}else{submenu.style.display='flex';}
event.stopPropagation();});});document.addEventListener('click',function(event){if(dropdown&&dropdown.classList.contains('active')&&!dropdown.contains(event.target)&&!hamburgerBtn.contains(event.target)){dropdown.classList.remove('active');dropdown.style.display='none';}
const allSubmenus=document.querySelectorAll('.submenu');allSubmenus.forEach(submenu=>{if(!submenu.parentElement.contains(event.target)){submenu.style.display='none';}});});window.addEventListener('resize',function(){if(window.innerWidth>768){if(dropdown){dropdown.classList.remove('active');dropdown.style.display='none';}}else{if(dropdown){dropdown.style.display='';}}});});;var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList=tooltipTriggerList.map(function(tooltipTriggerEl){return new bootstrap.Tooltip(tooltipTriggerEl)});$(document).ready(function(){function getCookie(name){let cookieValue=null;if(document.cookie&&document.cookie!==''){const cookies=document.cookie.split(';');for(let i=0;i<cookies.length;i++){const cookie=cookies[i].trim();if(cookie.substring(0,name.length+1)===(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}
const csrftoken=getCookie('csrftoken');$('#logout-link').click(function(e){e.preventDefault();$.ajax({url:'/configuracion/logout/',type:'POST',dataType:'json',success:function(data){if(data.success){$.get('/auth_div/',function(html){$('.py-3.d-flex.align-items-center.me-4').html(html);});}},error:function(){alert('Error al cerrar sesiÃ³n habshbahbaha');}});});});;